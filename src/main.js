import e from"@barba/core";import o from"@studio-freight/lenis";import{ScrollTrigger as t}from"gsap/all";import{gsap as a}from"gsap/src";import n from"lottie-web";import r from"./home";import i from"./project";let cursor=document.querySelector(".cursor"),cursorball=document.querySelector(".cursor__ball"),animationConfig=n.loadAnimation({container:cursor,renderer:"svg",loop:!1,autoplay:!1,path:"https://uploads-ssl.webflow.com/62eab1c2a6c3912f62c3d66c/653c6b59c0189b84bffc0edf_Animation%20-%201698458415832.json"});function playAnimation(){animationConfig.setDirection(1),animationConfig.goToAndPlay(0,!0),a.to(cursorball,.5,{scale:0,ease:"Power2.easeOut"})}function stopAnimation(){animationConfig.setDirection(-1),animationConfig.currentFrame===animationConfig.totalFrames-1?animationConfig.goToAndStop(animationConfig.totalFrames,!0):animationConfig.goToAndPlay(30,!0),a.to(cursorball,.5,{scale:1,ease:"Power2.easeOut"})}let link=document.querySelectorAll("a");link.forEach(e=>{e.addEventListener("mouseover",playAnimation),e.addEventListener("mouseout",stopAnimation)}),window.addEventListener("mousemove",e=>{let o=e.clientX,t=e.clientY;a.to(cursor,.5,{x:o,y:t,ease:"Power2.easeOut"}),a.to(cursorball,.5,{x:o,y:t,ease:"Power2.easeOut"})});let content=document.querySelector("img");async function pagetranIn(){return new Promise(e=>{let o=a.timeline({onComplete:e});o.fromTo(".icon__black",1,{y:"50vh"},{y:"100vh",ease:"Power3.easeInOut"}),o.fromTo(".page__transition",1,{height:"100vh"},{height:"0vh",ease:"Power3.easeInOut"})})}async function pagetranOut(e){return new Promise(e=>{let o=a.timeline({onComplete:e});o.fromTo(".page__transition",1,{height:"0vh"},{height:"100vh",ease:"Power3.easeInOut"}),o.fromTo(".icon__black",1,{y:"0vh"},{y:"50vh",ease:"bounce.out",delay:-.6})})}function pageTransition(){let a=new o({lerp:.1,duration:1,smoothWheel:!0,smoothTouch:!1,wheelMultiplier:.3,touchMultiplier:.4,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e))});function n(e){a.raf(e),requestAnimationFrame(n)}requestAnimationFrame(n),e.init({transitions:[{async leave({next:e}){let o=this.async();await pagetranOut(e),o()},async after(){let e=this.async();await pagetranIn(),e()}},],views:[{namespace:"home",afterEnter(){t.refresh(),setTimeout(()=>{r(),console.clear()},1)},beforeEnter(){t.revert(),window.onbeforeunload=function(){a.scrollTo(-a.progress,{immediate:!0})},a.scrollTo(-a.progress,{immediate:!0})}},{namespace:"project",afterEnter(){t.refresh(),setTimeout(()=>{i(),console.clear()},1)},beforeEnter(){t.revert(),window.onbeforeunload=function(){a.scrollTo(-a.progress,{immediate:!0})},a.scrollTo(-a.progress,{immediate:!0})}},]})}window.addEventListener("load",()=>{a.to(".enter",1.8,{y:"125.3vh",ease:"Bounce.easeOut",rotate:90}),a.to(".logo__svg__preloader",1.8,{opacity:1,ease:"Power3.easeOut"})}),window.matchMedia("(max-width: 768px)").matches?t.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load"}):window.addEventListener("resize",()=>{t.update()}),pageTransition();